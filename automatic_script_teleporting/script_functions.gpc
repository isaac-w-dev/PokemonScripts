string location_to_find;
int SCRIPT_RUNNING = FALSE;

// Selected Category Index
int category = 0;
// Selected Location Index
int location = 0;

// Index of location in main array
int location_index;

// Placeholder for while and for functions
int i;

// Checks if location index has been calculated
int location_index_determined = FALSE;

// Placeholder to be used for negative values
int absolute_value = 1;

// Wait time reused throughout the program
int wait_time = 100;

// Used to destructure coordinates
int x_coordinate;
int y_coordinate;

// Category Coordinate
int z_coordinate;

int category_determined = FALSE;


// Number of locations in each category for controlling bounds
const int16 locations_per_catagory[] = {17, 8, 16, 19};

// All coordinates of all locations
const int16 coordinates[][2] = {
{0, 0}, {0, 1}, {0, 2}, {0, 3}, {0, 4}, {1, -2}, {1, -1}, {1, 0}, {1, 1}, {1, 2}, {1, 0}, {2, 0}, {2, 1}, {2, -1}, {2, 0}, {2, 1}, {-1, -1}, {-1, 0}, {0, 0}, {0, 1}, {1, 0}, {1, 1}, {1, 2}, {-2, -1}, {-2, 0}, {-1, -1}, {-1, 0}, {0, 0}, {0, 1}, {0, 2}, {0, 3}, {0, 4}, {1, -2}, {1, -1}, {1, 0}, {1, 1}, {-2, 0}, {2, 0}, {2, 1}, {2, 2}, {-1, -3}, {-1, -2}, {-1, -1}, {-1, 0}, {0, 0}, {0, 1}, {0, 2}, {0, 3}, {0, 4}, {1, -2}, {1, -1}, {1, 0}, {1, 1}, {1, 2}, {1, 3}, {2, -2}, {2, -1}, {2, 0}, {2, 1}, {2, 2}, {2, 3}, {2, 4}, {2, 5}, {2, 6}
};

// All location names
const string all_locations[] = {
"Centrico Plaza", "Gare de Lumiose", "Pokemon Research Lab", "Hotel Z", "Racine Construction", "Restaurant Le Nah", "Rust Syndicate Office", "Lumiose Sewers (Canal Access)", "Quasartico Inc.", "Lysandre Cafe", "Lumiose Sewers (Main Access)", "Hotel Richissime", "Looker Bureau", "Lumiose Museum", "Restaurant Le Yeah", "Sushi High Roller", "Restaurant Le Wow", "Justice Dojo", "Vert Pokemon Center", "Bleu Pokemon Center", "Vernal Pokemon Center", "Magenta Pokemon Center", "Magenta Plaza Pokemon Center", "Rouge Pokemon Center", "Centrico Pokemon Center", "Jaune Pokemon Center", "Hibernal Pokemon Center", "Cafe Cyclone", "Cafe Classe", "Cafe Introversion", "Nouveau Cafe", "Cafe Woof", "Cafe Soleil", "Shutterbug Cafe", "Nouveau Cafe Truck No. 2", "Cafe Pokemon-Amie", "Cafe Rouleau", "Cafe Gallant", "Cafe Triste", "Nouveau Cafe Truck No. 3", "Cafe Ultimo", "Cafe Action", "Cafe Kizuna", "Cafe Bataille", "Wild Zone 1", "Wild Zone 2", "Wild Zone 3", "Wild Zone 4", "Wild Zone 5", "Wild Zone 6", "Wild Zone 7", "Wild Zone 8", "Wild Zone 9", "Wild Zone 10", "Wild Zone 11", "Wild Zone 12", "Wild Zone 13", "Wild Zone 14", "Wild Zone 15", "Wild Zone 16", "Wild Zone 17", "Wild Zone 18", "Wild Zone 19", "Wild Zone 20"
};

// All fastest route categories for each location
const string categories[] = {
"All Locations", "All Locations", "All Locations", "All Locations", "All Locations", "All Locations", "All Locations", "All Locations", "All Locations", "All Locations", "Facilities", "Facilities", "Facilities", "All Locations", "All Locations", "All Locations", "Facilities", "Facilities", "Pokemon Centers", "Pokemon Centers", "Pokemon Centers", "Pokemon Centers", "Pokemon Centers", "Pokemon Centers", "Pokemon Centers", "Pokemon Centers", "Pokemon Centers", "Cafes", "Cafes", "Cafes", "Cafes", "Cafes", "Cafes", "Cafes", "Cafes", "Cafes", "Cafes", "Cafes", "Cafes", "Cafes", "Cafes", "Cafes", "Cafes", "Cafes", "Wild Zones", "Wild Zones", "Wild Zones", "Wild Zones", "Wild Zones", "Wild Zones", "Wild Zones", "Wild Zones", "Wild Zones", "Wild Zones", "Wild Zones", "Wild Zones", "Wild Zones", "Wild Zones", "Wild Zones", "Wild Zones", "Wild Zones", "Wild Zones", "Wild Zones", "Wild Zones"
};

// All categories
const string category_names[] = {"All Locations", "Facilities", "Pokemon_Centers", "Cafes", "Wild Zones"};

const string facilities[] = { "Centrico Plaza", "Gare de Lumiose", "Pokemon Research Lab", "Hotel Z", "Racine Construction", "Restaurant Le Nah", "Rust Syndicate Office",
    "Lumiose Sewers (Main Access)", "Quasartico Inc.", "Lysandre Cafe", "Lumiose Sewers (Canal Access)", "Hotel Richissime", "Looker Bureau", "Lumiose Museum",
    "Restaurant Le Yeah", "Sushi High Roller", "Restaurant Le Wow", "Justice Dojo"};

const string pokemon_centers[] = {    "Vert Pokemon Center", "Bleu Pokemon Center", "Vernal Pokemon Center", "Magenta Pokemon Center", "Magenta Plaza Pokemon Center", "Rouge Pokemon Center", "Centrico Pokemon Center",
    "Jaune Pokemon Center", "Hibernal Pokemon Center"};


const string cafes[] = {"Cafe Cyclone", "Cafe Classe", "Cafe Introversion", "Nouveau Cafe", "Cafe Woof", "Cafe Soleil", "Shutterbug Cafe",
    "Nouveau Cafe Truck No. 2", "Cafe Pokemon-Amie", "Cafe Rouleau", "Cafe Gallant", "Cafe Triste", "Nouveau Cafe Truck No. 3", "Cafe Ultimo",
    "Cafe Action", "Cafe Kizuna", "Cafe Bataille"};


const string wild_zones[] = {"Wild Zone 1", "Wild Zone 2", "Wild Zone 3", "Wild Zone 4", "Wild Zone 5", "Wild Zone 6", "Wild Zone 7",
    "Wild Zone 8", "Wild Zone 9", "Wild Zone 10", "Wild Zone 11", "Wild Zone 12", "Wild Zone 13", "Wild Zone 14",
    "Wild Zone 15", "Wild Zone 16", "Wild Zone 17", "Wild Zone 18", "Wild Zone 19", "Wild Zone 20"};

const string program_name = "Set Location:\nCategory: UP/DOWN\nLocation: Left/Right";





function configure_selections(){
	if(get_val(SWI_ZL)){

        if(event_press(SWI_UP) && !SCRIPT_RUNNING){
            if (category == 0){
                category = 4;
            }
            else{
                category -= 1;
            }
        }

        else if(event_press(SWI_DOWN) && !SCRIPT_RUNNING){
            if (category == 4){
                category = 0;
            }
            else{
                category += 1;
            }
        }

        else if(event_press(SWI_LEFT) && category != 0 && !SCRIPT_RUNNING){
            if (location == 0){
                location = locations_per_catagory[category - 1];
            }
            else{
                location -= 1;
            }
        }

        else if(event_press(SWI_RIGHT) && category != 0 && !SCRIPT_RUNNING){
            if (location == locations_per_catagory[category - 1]){
                location = 0;
            }
            else{
                location +=  1;
            }
        }
        
        else if (event_press(SWI_R) && SCRIPT_RUNNING){
        	location_index_determined = FALSE;
        	category_determined = FALSE;  
        	SCRIPT_RUNNING = !SCRIPT_RUNNING;
        }

        else if (event_press(SWI_R) && category != 0 && location != 0){
            SCRIPT_RUNNING = !SCRIPT_RUNNING;   
            location_index_determined = FALSE;
        	category_determined = FALSE;  
        }
        
        if (!SCRIPT_RUNNING){
            display_selections();
        }
	}
}

function display_selections(){
        if (location == 0 && category == 0){
            print(10, 20, OLED_FONT_MEDIUM, OLED_WHITE, program_name);
        }
		else if (location == 0 && category != 0){
			print(10, 20, OLED_FONT_MEDIUM, OLED_WHITE, category_names[category]);
		}

		else if(location != 0 && category != 0){
			location_index = location - 1;
			if (category == 1){
				print(10, 20, OLED_FONT_MEDIUM, OLED_WHITE, facilities[location_index]);
			}
			else if (category == 2){
				print(10, 20, OLED_FONT_MEDIUM, OLED_WHITE, pokemon_centers[location_index]);
			}
			else if (category == 3){
				print(10, 20, OLED_FONT_MEDIUM, OLED_WHITE, cafes[location_index]);
			}
			else if (category == 4){
				print(10, 20, OLED_FONT_MEDIUM, OLED_WHITE, wild_zones[location_index]);
			}
}

function find_true_index(){

    i = 0;
    while (strcmp(location_to_find, all_locations[i]) == 0 && i < 65){
        i += 1;
    }
    if (i == 65){
    print(10, 20, OLED_FONT_MEDIUM, "ERROR");
    SCRIPT_RUNNING = FALSE;
    }
    return i;
}

function get_xy(location_index){
    x_coordinate = coordinates[location_index][0];
    y_coordinate = coordinates[location_index][1];
}

function category_to_inputs(category){
    z_coordinate = category;
    for (i = 0; i < z_coordinate; i++){
        input(SWI_DOWN);
    }
    input(SWI_A);
}
function input(input){
    set_val(input, 100);
    wait(wait_time);
    set_val(input, 0);
    wait(wait_time);
}

function coordinates_to_inputs(){
    if (x_coordinate < 0){
        absolute_value = x_coordinate * -1;
        for (i = 0; i < absolute_value; i++){
            input(SWI_LEFT);
        }
    }
    if (x_coordinate > 0){
        absolute_value = x_coordinate;
        for (i = 0; i < absolute_value; i++){
            input(SWI_RIGHT);
        }
    }
    if (y_coordinate < 0){
        absolute_value = y_coordinate * -1;
        for (i = 0; i < absolute_value; i++){
            input(SWI_UP);
        }
    }
    if (y_coordinate > 0){
        absolute_value = y_coordinate;
        for (i = 0; i < absolute_value; i++){
            input(SWI_DOWN);
        }
    }
    input(SWI_A);
}

function open_map(){
    input(SWI_PLUS);
    input(SWI_Y);
}
init{
	location_to_find = "a";
    set_led(LED_1, 0); set_led(LED_2, 1); set_led(LED_3, 0); set_led(LED_4, 0);
}
main{
    configure_selections();
    display_selections();

    if (SCRIPT_RUNNING){
        if (!location_index_determined){
            if (category > 0 && category < 5){
                if (category == 1){
					location_to_find = facilities[location - 1];
					location_index = find_true_index();
                }
            
                if (category == 2){
                	location_to_find = pokemon_centers[location - 1];
                    location_index = find_true_index();
                }

                if (category == 3){
                	location_to_find = cafes[location - 1];
                    location_index = find_true_index();
                }

                if (category == 4){
					location_to_find = wild_zones[location - 1];
                    location_index = find_true_index();
                }
                get_xy(location_index);
                location_index_determined = TRUE;
            }
            else{
                SCRIPT_RUNNING = !SCRIPT_RUNNING;
            }        
        }
        else{
            open_map();
            if (!category_determined){
                category_to_inputs(category);

                category_determined = TRUE;
            }
            else{
                coordinates_to_inputs();
                wait(1000);
            }
        }
    }
} ����������������